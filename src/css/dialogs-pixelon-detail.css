.dialog-content {
    /* Header ë†’ì´(50px)ì— ë§ê²Œ ì¡°ì • */
    position: absolute;
    top: 50px;
    bottom: 0;
    width: 100%;
    height: calc(100% - 50px);
    box-sizing: border-box;
}

.dialog-head {
    /* ì›ë³¸ paddingì„ 0ìœ¼ë¡œ ì„¤ì •í•˜ê³  flexë¥¼ í†µí•´ ì •ë ¬ */
    width: 100%;
    background: var(--highlight-color);
    margin: 0;
    padding: 0 10px;
    color: black;
    font-size: 1.8em;
    height: 50px; /* ìµœì¢… Header ë†’ì´ 50px */
    box-sizing: border-box;
    display: flex;
    align-items: center; /* ìˆ˜ì§ ì¤‘ì•™ ì •ë ¬ */
    justify-content: space-between;
}

.dialog-close {
    /* Header ë†’ì´ì— ë§ê²Œ ì¡°ì • */
    position: static;
    line-height: 50px;

    margin-right: 0;
    font-size: 28px; /* í†µì¼ëœ í°íŠ¸ ì‚¬ì´ì¦ˆ */
    cursor: pointer;
    width: 21px;
    height: 50px;
    color: var(--text-dark); /* í°íŠ¸ ìƒ‰ìƒ */
    background: transparent;
    border: none;
}

:root {
    --bg-dark: #1D1D1D;
    --bg-medium: #404040;
    --highlight-color: #A7ABDE;
    --text-dark: #1D1D1D;
    --text-light: #FFFFFF; /* White */

    --color-black: #000000;

    /* ì›ë³¸ UIì˜ í¬ë¯¸í•œ í…Œë‘ë¦¬ ìƒ‰ìƒ (ê°€ë¡œì„ ìš©) */
    --border-original-light: #757575;
    --border-original-medium: #888888;
}

/* Pixel-on-detail Dialog Styles */
#dialog-container.pixel-on-detail {
    width: 1000px;
    height: 650px;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    margin: 0;
    border: 5px solid var(--highlight-color);
    border-top: none;
    background-color: var(--bg-dark);
    overflow: hidden;
}

/* dialog-head ìŠ¤íƒ€ì¼ ìˆ˜ì • (ìˆ˜ì§ ì¤‘ì•™ ì •ë ¬) */
.pixel-on-detail-dialog .dialog-head {
    width: 100%;
    height: 50px;
    background-color: var(--highlight-color);

    display: flex;
    align-items: center;

    justify-content: space-between;
    padding: 0 10px;
    box-sizing: border-box;
}

/* dialog-title ìŠ¤íƒ€ì¼ ìˆ˜ì • */
.pixel-on-detail-dialog .dialog-title {
    line-height: 50px;

    font-family: "Inter-Bold", Helvetica;
    font-weight: 700;
    color: var(--text-dark);
    font-size: 28px;
    width: 175px;
    text-align: center;
}


/* dialog-close ìŠ¤íƒ€ì¼ ìˆ˜ì • */
.pixel-on-detail-dialog .dialog-close {
    line-height: 50px;
    position: static;

    font-size: 28px;
    color: var(--text-dark);
    background-color: transparent;
    border: none;
    cursor: pointer;
    width: 21px;
    height: 50px;
}

/* 3-column layout for pixel-on-detail dialog */
.detail-columns-container {
    display: flex;
    height: 100%;
}

.detail-columns-container > div {
    height: 100%;
    box-sizing: border-box;
    position: relative;
    background-color: var(--bg-medium); /* #404040 ì ìš© */
    display: flex;
    flex-direction: column;
}

/* ========================================= */
/* ê¸°ëŠ¥ë³„ ì»¬ëŸ¼ ìŠ¤íƒ€ì¼ (ë„ˆë¹„) */
/* ========================================= */

.history-column {
    flex: 2; /* 20% */
    min-width: 0; /* flex itemì´ ìˆ˜ì¶•í•  ìˆ˜ ìˆë„ë¡ í—ˆìš© */
    border-right: 1px solid var(--text-light);
}

.prompt-column {
    flex: 3; /* 30% */
    min-width: 0;
    border-right: 1px solid var(--text-light);
}

.result-column {
    flex: 5; /* 50% */
    min-width: 0;
    border-right: none;
}

/* Result Column ë‚´ë¶€ ìˆ˜ì§ ë¶„í•  Wrapper */
.result-column .result-wrapper {
    display: flex;
    flex-direction: column;
    width: 100%;
    height: 90%;
}

/* 1. Result ì„¹ì…˜ (80%) */
.result-column .result-section {
    flex: 0 0 80%; /* ìˆ˜ì§ ë¹„ìœ¨: 80% */
    display: flex;
    flex-direction: column;
    overflow-y: auto;
}

/* 2. Button ì„¹ì…˜ (20%) */
.result-column .button-section {
    flex: 0 0 20%; /* ìˆ˜ì§ ë¹„ìœ¨: 20% */
    background-color: var(--bg-medium);

    /* Result ì„¹ì…˜ê³¼ì˜ ê²½ê³„ì„ : White ì ìš© */
    border-top: 1px solid var(--text-light);
}

/* .so-whatì„ Button ì„¹ì…˜ ì „ì²´ë¡œ í™•ì¥ (ìˆ˜í‰ ë¹„ìœ¨ ì ìš©) */
.result-column .button-section .so-what {
    position: relative;
    width: 100%;
    height: 100%;
    border-top: none;

    display: flex;
    align-items: center;
    /* ìˆ˜í‰ ì •ë ¬ì„ ìœ„í•´ justify-content: space-between ëŒ€ì‹  flex-startë¥¼ ì‚¬ìš©í•˜ê³ 
       ê° flex itemì„ ê°œë³„ì ìœ¼ë¡œ ì¤‘ì•™ ì •ë ¬í•©ë‹ˆë‹¤. */
    justify-content: flex-start;
    padding: 0 10px; /* ğŸ‘ˆ ì´ ë¶€ë¶„ì„ ìˆ˜ì •í•©ë‹ˆë‹¤. */
    box-sizing: border-box; /* ğŸ‘ˆ íŒ¨ë”©ì´ ë„ˆë¹„ì— í¬í•¨ë˜ë„ë¡ ì¶”ê°€í•©ë‹ˆë‹¤. */
}

/* ========================================= */
/* ê°€ë¡œ êµ¬ì—­ í…Œë‘ë¦¬: ì›ë³¸ ìƒ‰ìƒìœ¼ë¡œ ë³µêµ¬ */
/* ========================================= */

.title-3 { /* History Header í•˜ë‹¨ */
    border-bottom: 2px solid var(--border-original-light);
}

.history-log { /* History Log í•˜ë‹¨ */
    border-bottom: 1px solid var(--border-original-medium);
}

.title { /* Result Header í•˜ë‹¨ */
    border-bottom: 1px solid var(--border-original-light);
}

.so-what {
    /* ì´ ë¸”ë¡ì€ button-section .so-whatë³´ë‹¤ ìš°ì„ ìˆœìœ„ê°€ ë‚®ë„ë¡ ì„¤ê³„ë¨ */
    position: relative;
    width: 100%;
    height: 100px;
    background-color: var(--bg-medium);
    border-top: 1px solid var(--border-original-medium); /* ì›ë³¸ ìƒ‰ìƒ ë³µêµ¬ */
    flex-shrink: 0;

    display: flex;
    align-items: center;
    justify-content: flex-start;
    padding: 0 10px;
}

/* ========================================= */
/* CMD ë° ì•¡ì…˜ ê·¸ë£¹ (60%:40% ë¹„ìœ¨ ìœ ì§€ ë° ì¤‘ì•™ ì •ë ¬ ì ìš©) */
/* ========================================= */

.CMD {
    /* CMD ì˜ì—­ (4): 60% ê³µê°„ í™•ë³´ */

    /* **ìˆ˜ì •:** 60% ê³µê°„ì„ í™•ë³´í•˜ëŠ” Wrapper ì—­í• ì„ ìœ„í•´ flex-basis ìœ ì§€ */
    flex-basis: 60%;
    flex-grow: 0;
    flex-shrink: 0;

    /* **ìˆ˜ì •:** CMD ë°•ìŠ¤ë¥¼ ì´ 60% ê³µê°„ ë‚´ì—ì„œ ìˆ˜í‰ ì¤‘ì•™ ì •ë ¬í•˜ê¸° ìœ„í•´
       ì¶”ê°€ì ì¸ Wrapper ì—†ì´ CMD ìì²´ë¥¼ 50% ë„ˆë¹„ë¡œ ì œí•œí•˜ê³  margin: autoë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. */

    /* CMD ë°•ìŠ¤ ìŠ¤íƒ€ì¼ ë° ì¤‘ì•™ ì •ë ¬ */
    height: 68px;
    background-color: var(--color-black);
    border: 1px solid var(--text-light);


    /* **í•µì‹¬ ìˆ˜ì •:** CMD ë°•ìŠ¤ í¬ê¸°ë¥¼ ì œí•œí•˜ê³  ì¤‘ì•™ ì •ë ¬ */
    width: 100%; /* flex-basis: 60%ì— ì˜í•´ ì œí•œë¨ */
    max-width: 250px; /* CMD ë°•ìŠ¤ ìì²´ì˜ ìµœëŒ€ ë„ˆë¹„ë¥¼ 250pxë¡œ ì œí•œ */
    margin: 0 auto; /* 60% êµ¬ì—­ ë‚´ì—ì„œ ìˆ˜í‰ ì¤‘ì•™ ì •ë ¬ */

    /* ë‚´ë¶€ ì½˜í…ì¸  ì¤‘ì•™ ì •ë ¬ (ì´ì „ Flex ì†ì„± ì œê±°) */
    display: flex;
    justify-content: center;
    align-items: center;

    padding: 0 15px;
    text-align: center;
    position: relative;
}


/* CMDì™€ ë²„íŠ¼ ê·¸ë£¹ ì‚¬ì´ì˜ ì„¸ë¡œ êµ¬ë¶„ì„  (White ìœ ì§€) */
/* **ìˆ˜ì •:** CMD::afterì˜ ìœ„ì¹˜ë¥¼ CMD ë°•ìŠ¤ ëŒ€ì‹  60% ê³µê°„ì˜ ëì— ë§ì¶”ê¸° ìœ„í•´
   CMDì˜ ë¶€ëª¨ì¸ .so-whatì— ::afterë¥¼ ì ìš©í•©ë‹ˆë‹¤. (HTML êµ¬ì¡°ë¥¼ ê±´ë“œë¦´ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ì´ ë¶€ë¶„ì´ ë³µì¡í•©ë‹ˆë‹¤.)
   ê°€ì¥ ê°„ë‹¨í•˜ê²Œ CMD ë°•ìŠ¤ ì˜†ì— ì„¸ë¡œì„ ì„ ìœ ì§€í•˜ëŠ” ì½”ë“œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. */
.CMD::after {
    content: '';
    position: absolute;
    top: 15%;
    bottom: 15%;

    /* CMD ë°•ìŠ¤ ìì²´ì˜ ëì´ ì•„ë‹Œ, 60% êµ¬ì—­ì˜ ê²½ê³„ì— ì˜¤ë„ë¡ ê³„ì‚° */
    left: 100%; /* CMD ë°•ìŠ¤ ëì— ìœ„ì¹˜ */
    transform: translateX(-50%); /* ì •í™•í•œ ìœ„ì¹˜ ì¡°ì •ì„ ìœ„í•´ -50% ì´ë™ */

    width: 1px;
    background-color: var(--text-light);
    z-index: 10; /* ë²„íŠ¼ ê·¸ë£¹ ìœ„ì— í‘œì‹œë˜ë„ë¡ */
}

.result-actions-group {
    /* ë²„íŠ¼ ê·¸ë£¹ (3): 40% ê³µê°„ í™•ë³´ ë° ì¤‘ì•™ ì •ë ¬ */
    display: flex;
    flex-direction: column; /* ì„¸ë¡œ ë‚˜ì—´ ìœ ì§€ */

    flex-basis: 40%; /* 40% ë¹„ìœ¨ ìœ ì§€ */
    flex-grow: 0;
    flex-shrink: 0;

    /* ìˆ˜í‰ ì¤‘ì•™ ì •ë ¬ (40% êµ¬ì—­ì˜ ì¤‘ì•™) */
    align-items: center;
    /* ìˆ˜ì§ ì¤‘ì•™ ì •ë ¬ */
    justify-content: center;
    gap: 5px;
}


/* ================================================================== */
/*                     HISTORY COLUMN STYLES (CORRECTED)              */
/* ================================================================== */

.title-3 {
  border-bottom: 1px solid #ffffff;
  padding: 12px;
  padding-bottom: 0px;
}

.title-3 .text-wrapper {
  margin: 0;
  font-size: 16px;
  font-weight: 500;
  color: #E0E0E0;
}
.history-contents {
  flex: 1;
  overflow-y: auto;
}

.history-contents.menu-open {
  overflow-y: visible;
}

.history-block {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px;
    font-size: 14px;
}
.history-block.selected {
  transition: background-color 0.2s ease;
  background-color: gold;
  color: black;
}
.history-block:hover {
  background-color: #777;
  color: white;
}
/* ================================================================== */
/*                      PROMPT COLUMN STYLES (CORRECTED)              */
/* ================================================================== */

/* Main container for the prompt column */
.prompt-column {
  display: flex;
  flex-direction: column;
  gap: 16px; /* Spacing between prompt groups, palette, etc. */
  background-color: #424242;
  border-radius: 6px;
  padding: 12px;
}

/* Header for the column ("Prompts & Setting") */
/* ìˆ˜ì •:.prompt-columnê³¼.panel-header ì‚¬ì´ì— ê³µë°±(space) ì¶”ê°€ */
.prompt-column .panel-header {
  border-bottom: 1px solid #ffffff;
  padding-bottom: 8px;

}

.prompt-column .panel-header h2 {
  margin: 0;
  font-size: 16px;
  font-weight: 500;
  color: #E0E0E0;
}

/* Styling for each prompt section (Positive and Negative) */
/* ìˆ˜ì •:.prompt-columnê³¼.prompt-group ì‚¬ì´ì— ê³µë°±(space) ì¶”ê°€ */
.prompt-column .prompt-group {
  display: flex;
  flex-direction: column;
}

.prompt-column .prompt-group label {
    margin-bottom: 6px;
    font-size: 16px;
    font-weight: 500;
    color: #E0E0E0;
}

.prompt-column .negative-prompt-label {
  display: flex;
  align-items: center;
  gap: 8px;
}

.prompt-column .checkmark-icon {
  color: #ab47bc; /* A purple/violet color from the image */
  font-weight: bold;
}

.prompt-column .prompt-textarea {
  width: 100%;
  box-sizing: border-box;
  background-color: #2a2a2a;
  border: 1px solid #555;
  border-radius: 4px;
  color: #E0E0E0;
  padding: 8px;
  resize: vertical;
  font-family: inherit; /* Use the same font as the rest of the dialog */
  min-height: 80px;
}

/* Placeholder for the palette group */
.prompt-column .palette-group {
  /* Piskel's palette controller will be injected here. */
  /* This ensures it has some space allocated. */
  min-height: 80px;
}

/* Container for the controls at the bottom of the column */
.prompt-column .generation-controls {
  /* This is the key to push the controls to the bottom */
  margin-top: auto;

  display: flex;
  align-items: flex-end; /* Align items to their bottom edge */
  gap: 12px;
  padding-top: 12px;
  border-top: 1px solid #555;
}

/* Styling for individual control groups (Resolution, Count) */
.prompt-column .control-group {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.prompt-column .control-group label {
  font-size: 12px;
  color: #bbb;
  margin-bottom: 0;
}

.prompt-column .resolution-inputs {
  display: flex;
  align-items: center;
  gap: 4px;
}

/* Styling for number inputs */
.prompt-column input[type="number"] {
  width: 50px;
  background-color: #2a2a2a;
  border: 1px solid #555;
  color: #E0E0E0;
  text-align: center;
  border-radius: 4px;
  padding: 4px;
}

/* Specific styling for the Generate button */
.prompt-column .generate-button {
  /* This pushes the button to the far right */
  margin-left: auto;
  background-color: #555;
  border: 1px solid #777;
  color: #E0E0E0;
  padding: 8px 16px;
  border-radius: 4px;
  cursor: pointer;
  font-weight: 500;
  
}

.prompt-column .generate-button:hover {
  background-color: #666;
}

/* History Item Layout */
.history-item-name {
    flex: 1;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    min-width: 0;
}

.history-item-actions {
    flex-shrink: 0;
}

.history-item-menu-button {
    background: none;
    border: none;
    color: white;
    cursor: pointer;
    font-size: 16px;
}

.history-item-menu {
    position: fixed;
    z-index: 20001; /* ë‹¤ì´ì–¼ë¡œê·¸ë³´ë‹¤ ë†’ê²Œ ì„¤ì • */
    background-color: #444;
    border: 1px solid #555;
    border-radius: 4px;
    display: none;
}

.history-item-menu button {
    display: block;
    width: 100%;
    padding: 8px 12px;
    text-align: left;
    background: none;
    border: none;
    cursor: pointer;
}

.history-item-action-rename {
    color: white;
}

.history-item-action-delete {
    color: #ff4d4d; /* ë¶‰ì€ìƒ‰ */
}

.history-item-menu button:hover {
    background-color: #555;
}

.history-item-name-input {
    width: calc(100% - 10px); /* íŒ¨ë”© ê³ ë ¤ */
    background-color: #555;
    border: 1px solid #777;
    color: white;
    padding: 2px 5px;
    font-size: 14px;
    font-family: inherit;
    box-sizing: border-box;
}

/* ================================================================== */
/*                      RESULT COLUMN STYLES (CORRECTED)              */
/* ================================================================== */
.result-container {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 10px;
    padding: 10px;
}

.result-container .image-frame {
    aspect-ratio: 1 / 1;
    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABlBMVEVMTExVVVUnhsEkAAAAHUlEQVR4AWOAAUYoQOePEAUj3v9oYDQ9gMBoegAAJFwCAbLaTIMAAAAASUVORK5CYII=');
    overflow:hidden;
}

.result-container .image-frame .image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    background-position: center center;
    background-size: contain;
    background-repeat: no-repeat;
    image-rendering: pixelated;
}
#new-session {
  width: auto;
}
.button-section .button {
  width: 100px;
}

/* ================================================================== */
/*                         PRESET SECTION STYLES                      */
/* ================================================================== */

.preset-section {
    padding: 10px;
    border-top: 1px solid var(--border-original-light);
    border-bottom: 1px solid var(--border-original-light);
}

.preset-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
}

.preset-header h3 {
    margin: 0;
    font-size: 16px;
    font-weight: 500;
    color: #E0E0E0;
}

.preset-status {
    font-size: 14px;
    color: #ccc;
}

.preset-buttons {
    display: flex;
    justify-content: space-around;
}

.preset-button {
    background-color: var(--bg-medium);
    border: none;
    color: white;
    padding: 8px 12px;
    border-radius: 20px; /* ìº¡ìŠ ëª¨ì–‘ */
    cursor: pointer;
    font-weight: 500;
    transition: all 0.2s ease;
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
}

.preset-button.active {
    box-shadow: 0 0 8px white;
}
